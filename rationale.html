<!DOCTYPE html><html><head><title>scala-server-toolkit: Rationale</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Avast" /><meta name="description" content="Functional programming toolkit for building server applications in Scala." /><meta name="og:image" content="/scala-server-toolkit/img/poster.png" /><meta name="image" property="og:image" content="/scala-server-toolkit/img/poster.png" /><meta name="og:title" content="scala-server-toolkit: Rationale" /><meta name="title" property="og:title" content="scala-server-toolkit: Rationale" /><meta name="og:site_name" content="scala-server-toolkit" /><meta name="og:url" content="https://github.com/avast/scala-server-toolkit" /><meta name="og:type" content="website" /><meta name="og:description" content="Functional programming toolkit for building server applications in Scala." /><link rel="icon" type="image/png" href="/scala-server-toolkit/img/favicon.png" /><meta name="twitter:title" content="scala-server-toolkit: Rationale" /><meta name="twitter:image" content="https://avast.github.io/scala-server-toolkit/img/poster.png" /><meta name="twitter:description" content="Functional programming toolkit for building server applications in Scala." /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:site" content="@avast_devs" /><link rel="icon" type="image/png" sizes="16x16" href="/scala-server-toolkit/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/scala-server-toolkit/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/scala-server-toolkit/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/scala-server-toolkit/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/scala-server-toolkit/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/scala-server-toolkit/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/scala-server-toolkit/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/scala-server-toolkit/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/scala-server-toolkit/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/scala-server-toolkit/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/scala-server-toolkit/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/scala-server-toolkit/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/scala-server-toolkit/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/scala-server-toolkit/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/scala-server-toolkit/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/scala-server-toolkit/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/scala-server-toolkit/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/scala-server-toolkit/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/scala-server-toolkit/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/scala-server-toolkit/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/scala-server-toolkit/highlight/styles/github.css" /><link rel="stylesheet" href="/scala-server-toolkit/css/pattern-style.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css" /></head><body class="docs"><div id="wrapper"><div id="sidebar-wrapper"><ul id="sidebar" class="sidebar-nav"><li class="sidebar-brand"><a href="/scala-server-toolkit/" class="brand"><div class="brand-wrapper"><span>scala-server-toolkit</span></div></a></li> <li><a href="/scala-server-toolkit/getting-started" class="">Getting Started</a></li> <li><a href="/scala-server-toolkit/rationale" class=" active ">Rationale</a></li> <li><a href="/scala-server-toolkit/structure" class="">Structure</a></li> <li><a href="/scala-server-toolkit/bundles" class="">Bundles</a></li> <li><a href="/scala-server-toolkit/subprojects" class="">Subprojects</a> <ul class="sub-section"> <li><a href="/scala-server-toolkit/subprojects/http4s" class="">http4s</a></li> <li><a href="/scala-server-toolkit/subprojects/jvm" class="">JVM</a></li> <li><a href="/scala-server-toolkit/subprojects/micrometer" class="">Micrometer</a></li> <li><a href="/scala-server-toolkit/subprojects/pureconfig" class="">PureConfig</a></li> <li><a href="/scala-server-toolkit/subprojects/cassandra-datastax-driver" class="">Datastax Cassandra Driver</a></li> <li><a href="/scala-server-toolkit/subprojects/fs2-kafka" class="">FS2 Kafka</a></li> <li><a href="/scala-server-toolkit/subprojects/ssl-config" class="">SSL Config</a></li> <li><a href="/scala-server-toolkit/subprojects/doobie" class="">doobie</a></li> <li><a href="/scala-server-toolkit/subprojects/flyway" class="">Flyway</a></li> <li><a href="/scala-server-toolkit/subprojects/monix-catnap" class="">monix-catnap - Circuit Breaker</a></li> <li><a href="/scala-server-toolkit/subprojects/sentry" class="">Sentry</a></li></ul></li></ul></div><div id="page-content-wrapper"><div class="nav"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="action-menu pull-left clearfix"><a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a></div><ul class="pull-right"><li id="gh-eyes-item" class="hidden-xs"><a href="https://github.com/avast/scala-server-toolkit" target="_blank" rel="noopener noreferrer"><i class="fa fa-eye"></i><span>Watchers<span id="eyes" class="label label-default">--</span></span></a></li><li id="gh-stars-item" class="hidden-xs"><a href="https://github.com/avast/scala-server-toolkit" target="_blank" rel="noopener noreferrer"><i class="fa fa-star-o"></i><span>Stars<span id="stars" class="label label-default">--</span></span></a></li></ul></div></div></div></div><div id="content" data-github-owner="avast" data-github-repo="scala-server-toolkit"><div class="content-wrapper"><section><h1 id="rationale">Rationale</h1>

<p>Avast backend developers have been using Scala since 2011. Over the years they have went through the usual stages of a Scala developer:</p>

<ul>
  <li><strong>Using Scala as better Java</strong>: imperative code full of mutability and side effects.</li>
  <li><strong>Idiomatic Scala</strong>: expression-oriented programming, full potential of Scala collections, convenient mix of OOP and FP.</li>
  <li><strong>FP Scala</strong>: taming side effects, monads and algebraic laws, all about referential transparency, composability and separation of concerns.</li>
</ul>

<p>The evolution process from imperative Scala towards FP Scala was very natural. As we have been learning Scala more and more it lead us to
the more functional side of Scala. Now we are in a phase in which we are dedicated to go full FP.</p>

<p>However not everything was rose-colored. The different styles of programming we have used in the past mean that we have very diverse
codebases and teams/people are used to do things differently. Functional programming is very popular nowadays and the amount of innovation
in that space is incredible but we are still lacking some kind of library that would give us unified approach to programming server 
applications. Thus we have decided to write our own and it is called <code class="highlighter-rouge">scala-server-toolkit</code>. It should help us unify our programming style,
promote best practices, functional programming and we believe it could be useful to others too.</p>

<p>It should be pointed out that we do not intend to write some full-blown framework that would try to solve all your server-side problems.
We are actually trying to do quite the opposite. Reuse as most open-source libraries as we can and provide only the missing integration 
pieces to simplify everyday programming. Most of the code revolves around initialization and integration of existing OSS libraries in
unified way.</p>

<p>There are certain design decisions and constraints that we put in place to guide the development of this library.</p>

<ul>
  <li>Modular design: small, cohesive, orthogonal and composable components.
    <ul>
      <li>The project is split into completely separate subprojects mostly based on dependencies. Every subproject provides some functionality, usually
something small. The idea is to compose multiple modules together to get a working application but be able to replace any module
with different implementation in case it is needed.</li>
    </ul>
  </li>
  <li>Keep the number of dependencies as low as possible.
    <ul>
      <li>Adding a dependency seems like a great idea to avoid having to implement some piece of existing logic however every dependency is also
a burden that can cause a lot of problems. Therefore every dependency should be considered well and only very important and well-maintained 
libraries should be added to our core.</li>
    </ul>
  </li>
  <li>Functional programming.
    <ul>
      <li>We believe in functional programming so this library also utilizes its concepts.</li>
      <li>We do not want to force anyone into any specific effect data type so the code is written in so-called tagless final style.</li>
    </ul>
  </li>
  <li>Type safe configuration and resource lifecycle.
    <ul>
      <li>Application initialization is often overlooked. By using type safe configuration and proper resource management (to never leak resources)
we can make it correct without much hassle.</li>
    </ul>
  </li>
  <li>No need for dependency injection.
    <ul>
      <li>Dependency injection is not needed in most cases - plain constructors and good application architecture usually suffice.</li>
      <li>Use a dependency injection framework if your application is huge and it justifies its cost.</li>
    </ul>
  </li>
  <li>Strive for <a href="https://slides.yowconference.com/yowwest2014/Morris-ParametricityTypesDocumentationCodeReadability.pdf">Scalazzi Safe Scala Subset</a>.</li>
</ul>
</section></div></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/scala-server-toolkit/highlight/highlight.pack.js"></script><script>
// For all code blocks, copy the language from the containing div
// to the inner code tag (where hljs expects it to be)
const langPrefix = 'language-';
document.querySelectorAll(`div[class^='${langPrefix}']`).forEach(function(div) {
  div.classList.forEach(function(cssClass) {
    if (cssClass.startsWith(langPrefix)) {
      const lang = cssClass.substring(langPrefix.length);
      div.querySelectorAll('pre code').forEach(function(code) {
        code.classList.add(lang);
      });
    }
  });
});

hljs.configure({languages:['scala','java','bash']});
hljs.initHighlightingOnLoad();
      </script><script>console.info('\x57\x65\x62\x73\x69\x74\x65\x20\x62\x75\x69\x6c\x74\x20\x77\x69\x74\x68\x3a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x5f\x5f\x0a\x20\x20\x20\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x5f\x20\x20\x2f\x20\x2f\x5f\x20\x20\x20\x20\x20\x20\x5f\x5f\x5f\x5f\x20\x5f\x5f\x5f\x20\x20\x28\x5f\x29\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x28\x5f\x29\x20\x2f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x0a\x20\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x60\x5f\x5f\x20\x5c\x2f\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x20\x2f\x20\x5f\x5f\x2f\x20\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x0a\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x5f\x2f\x20\x2f\x20\x2f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x5f\x5f\x2f\x20\x2f\x20\x20\x2f\x20\x2f\x5f\x2f\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x20\x2f\x5f\x2f\x20\x20\x5f\x5f\x28\x5f\x5f\x20\x20\x29\x0a\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2e\x5f\x5f\x5f\x2f\x5c\x5f\x5f\x2f\x20\x20\x20\x20\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x2f\x20\x20\x20\x5c\x5f\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x0a\x0a\x68\x74\x74\x70\x73\x3a\x2f\x2f\x34\x37\x64\x65\x67\x2e\x67\x69\x74\x68\x75\x62\x2e\x69\x6f\x2f\x73\x62\x74\x2d\x6d\x69\x63\x72\x6f\x73\x69\x74\x65\x73')</script><script src="/scala-server-toolkit/js/main.js"></script></body></html>